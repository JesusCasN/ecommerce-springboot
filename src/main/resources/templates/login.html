<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Iniciar Sesión</title>
    <link rel="stylesheet" th:href="@{/css/login.css}">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
</head>
<body>

<div class="login-container" th:style="|background-image: url('@{/images/fondo.jpg}');|">
    <div class="login-box">
        <h2>Iniciar Sesión</h2>

        <form th:action="@{/login}" method="post">
            <!-- Campo de usuario -->
            <div class="input-box">
                <input type="email" id="email" th:placeholder="'Correo Electronico'" name="username" required>
                <span class="icon-user">
                    <i class="fas fa-user"></i>
                </span>
                <p class="error-message" id="emailError"></p>
            </div>

            <!-- Campo de contraseña -->
            <div class="input-box">
                <input type="password" id="password" th:placeholder="'Contraseña'" name="password" required>
                <span id="togglePassword" class="icon-eye">
                    <i class="fas fa-eye-slash"></i>
                </span>
                <p class="error-message" id="passwordError"></p>
            </div>

            <button type="submit">Iniciar Sesión</button>

            <!-- Mensaje de error general -->
            <div class="error-message" th:if="${param.error}">
                <p>Usuario o contraseña incorrectos. Inténtalo de nuevo.</p>
            </div>
        </form>

        <!-- Enlace para registrarse -->
        <div class="register-link">
            <p>¿No tienes cuenta? <a th:href="@{/registro}">Regístrate</a></p>
        </div>
    </div>
</div>

<script th:src="@{/js/animations.js}"></script>
</body>
</html>
